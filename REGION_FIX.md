# üåç –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–≥–∏–æ–Ω–æ–º Gemini API

## –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞: `400 User location is not supported for the API use.`

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞ Gemini API –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –∏–∑ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞.

## –†–µ—à–µ–Ω–∏–µ

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Gemini API —Ç–µ–ø–µ—Ä—å –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** (–≥–¥–µ –∑–∞–ø—É—â–µ–Ω –±–æ—Ç), –∞ –Ω–µ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ:

1. ‚úÖ –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
2. ‚úÖ –õ–æ–∫–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ IP —Å–µ—Ä–≤–µ—Ä–∞, –∞ –Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. ‚úÖ –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ä–µ–≥–∏–æ–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ì–µ—Ä–º–∞–Ω–∏—è), –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Proxy (–¥–ª—è –æ–±—Ö–æ–¥–∞ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)

–ï—Å–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–µ–≥–∏–æ–Ω–µ, –≥–¥–µ Gemini API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å proxy:

1. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```env
GEMINI_PROXY_URL=http://proxy.example.com:8080
```

–ò–ª–∏ –¥–ª—è SOCKS5:
```env
GEMINI_PROXY_URL=socks5://proxy.example.com:1080
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ FFmpeg

–ï—Å–ª–∏ FFmpeg –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ, –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –≤ `.env`:
```env
FFMPEG_PATH=C:\code\TG-AI\ffmpeg\bin\ffmpeg.exe
```

–ò–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø—Ä–æ–±—É–µ—Ç –Ω–∞–π—Ç–∏ FFmpeg –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –º–µ—Å—Ç–∞—Ö:
- `./ffmpeg/bin/ffmpeg.exe`
- `./ffmpeg.exe`
- `./ffmpeg-8.0/bin/ffmpeg.exe`
- –°–∏—Å—Ç–µ–º–Ω—ã–π FFmpeg (–µ—Å–ª–∏ –≤ PATH)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–•–æ—Å—Ç–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–∞:** –†–∞–∑–º–µ—â–∞–π—Ç–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤ —Ä–µ–≥–∏–æ–Ω–µ, –≥–¥–µ Gemini API –¥–æ—Å—Ç—É–ø–µ–Ω (–ï–≤—Ä–æ–ø–∞, –°–®–ê –∏ —Ç.–¥.)

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ IP:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–º —Ä–µ–≥–∏–æ–Ω–µ:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å—ã —Ç–∏–ø–∞ `ip-api.com` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –ï—Å–ª–∏ IP –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É

3. **Proxy/VPN:** –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å proxy, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ `GEMINI_PROXY_URL`

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

1. ‚úÖ `gemini_client.py` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç —Å —Å–µ—Ä–≤–µ—Ä–∞
2. ‚úÖ `handlers.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ FFmpeg
3. ‚úÖ `config.py` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–ø—Ü–∏–∏ –¥–ª—è proxy –∏ FFmpeg

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ Gemini API –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –∞ –Ω–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram.

