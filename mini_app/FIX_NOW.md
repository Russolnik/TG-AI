# üîß –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: "Failed to fetch"

## –ü—Ä–æ–±–ª–µ–º–∞
–û—à–∏–±–∫–∞ "TypeError: Failed to fetch" –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Supabase.

## –†–µ—à–µ–Ω–∏–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –í–°–ï —à–∞–≥–∏):

### –®–∞–≥ 1: –û—Ç–∫–ª—é—á–∏—Ç—å RLS (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (–≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–ï–°–¨ –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase/migrations/004_disable_rls.sql`:

```sql
-- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Row Level Security (RLS) –¥–ª—è —Ä–∞–±–æ—Ç—ã Mini App
ALTER TABLE chats DISABLE ROW LEVEL SECURITY;
ALTER TABLE messages DISABLE ROW LEVEL SECURITY;
ALTER TABLE users DISABLE ROW LEVEL SECURITY;
ALTER TABLE user_parameters DISABLE ROW LEVEL SECURITY;
```

5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor
6. –ù–∞–∂–º–∏—Ç–µ **Run** –∏–ª–∏ **Execute**
7. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **CORS** –∏–ª–∏ **Allowed Origins**
3. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–º–µ–Ω—ã (–∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):
   ```
   https://yourai-bottelegram.netlify.app
   https://*.netlify.app
   https://*.telegram.org
   ```
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. **–û–±–Ω–æ–≤–∏—Ç–µ Mini App** –≤ Telegram (–∑–∞–∫—Ä–æ–π—Ç–µ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–Ω–æ–≤–æ)
2. **–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** (F12) –≤ Mini App
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ Supabase –∫–ª–∏–µ–Ω—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —á–∞—Ç–æ–≤: X` (–≥–¥–µ X - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—à–∏—Ö —á–∞—Ç–æ–≤)
   - –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∞, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë –∏–∑ –∫–æ–Ω—Å–æ–ª–∏

### –®–∞–≥ 4: –ï—Å–ª–∏ –≤—Å—ë –µ—â—ë –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12) –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–ï –ª–æ–≥–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å:
- `üì§ –ó–∞–ø—Ä–æ—Å –∫ Supabase:`
- `üì• –û—Ç–≤–µ—Ç –æ—Ç Supabase:`
- `‚ùå –û—à–∏–±–∫–∞`

–ü—Ä–∏—à–ª–∏—Ç–µ —ç—Ç–∏ –ª–æ–≥–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –í–∞–∂–Ω–æ!

- –ú–∏–≥—Ä–∞—Ü–∏—é SQL –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å **–û–î–ò–ù –†–ê–ó**
- –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å—ë –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å
- –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–µ—Ç–∏ –∏–ª–∏ –≤ –∫–ª—é—á–∞—Ö

